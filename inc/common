# Common functions & Tools for zsh and bash

# Base16 Shell
BASE16_SCHEME="solarized"
BASE16_SHELL="$HOME/.config/base16-shell/base16-$BASE16_SCHEME.dark.sh"
[[ -s $BASE16_SHELL ]] && . $BASE16_SHELL

VIRTUAL_ENV_DISABLE_PROMPT=1 #will show it myself

platform='linux'
case $OSTYPE in darwin*) platform='osx' ;; esac

# pythonz
VIRTUAL_ENV_DISABLE_PROMPT=1
[[ -s $HOME/.pythonz/etc/bashrc ]] && source $HOME/.pythonz/etc/bashrc
[[ -s /usr/local/bin/virtualenvwrapper.sh ]] && source /usr/local/bin/virtualenvwrapper.sh
type workon > /dev/null 2>&1
if [[ $? -eq 0 ]]; then
    # _I_ always install the newest 2.X CPython with pythonz and create a virtualenv
    # with name like "276", while other virtualenvs do not start with a number.
    workon `workon | grep '^2[0-9]*$' | tail -n 1`
fi

# rvm
[[ -s "$HOME/.rvm/scripts/rvm" ]] && . "$HOME/.rvm/scripts/rvm"
type rvm > /dev/null 2>&1
if [[ $? -eq 0 ]]; then
    # use the latest MRI
    rvm use `rvm list strings | grep "^ruby-.*" | tail -n 1` 2>&1 > /dev/null
fi

# z jump
source ~/dotfiles/z/z.sh
